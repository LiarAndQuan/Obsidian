
## 一.Linux目录结构

**使用ls命令查看根目录下面的文件目录:**

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636191605.jpg)


- `/bin(Binary)`, 这个目录存放着最经常使用的命令
- `/sbin(Super User)`, 这里存放的是系统管理员使用的系统管理程序
- `/home`, 这里存放的是普通用户的主目录,在Linux中每个用户都有一个自己的目录,一般改目录名是以用户的账号命名的
- `/root`, 系统管理员的用户主目录
- `/lib`, 系统开机所需要最基本的动态连接共享库,作用类似于Windows里的DLL文件,几乎所有的应用程序都需要用到这些共享库
- `/lost+found`, 一般是空的,系统非法关机后存放一些文件
- `/etc`, 所有的系统管理所需要的配置文件和子目录
- `/usr`, 这是一个非常重要的目录,用户的很多应用程序和文件都放在这个目录下,类似于windows下的program files目录
- `/boot`, 存放的是启动Linux时使用的一些核心文件
- `/proc`, 虚拟的目录,是系统内存的映射,可以直接访问这个目录来获取系统信息
- `/srv(service`), 存放一些服务启动之后需要提取的数据
- `/sys(system)`, linux2.6内核的一个很大的变化,该目录下安装了2.6内核中新出现的一个文件系统sysfs
- `/tmp`, 存放临时文件
- `/dev`,类似于windows的设备管理器,把所有的设备用文件的形式存储
- `/media`, linux会自动识别一些设备如u盘,光驱等,会将识别到的设备挂载到这个目录下
- `/mnt`, 让用户临时挂载别的文件系统,可以将外部的存储挂载在/mnt/里,进入该目录查看里面的内容
- `/opt`, 给主机安装软件所摆放的目录
- `/var`, 存放着不断扩充的东西,通常放日志文件等

## 二.Vim编辑器

>VI 是 Unix 操作系统和类 Unix 操作系统中最通用的文本编辑
>VIM 编辑器是从 VI 发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜 色辨别语法的正确性，方便程序设计。VIM 与 VI 编辑器完全兼容

vim有三种模式 ,分别是**一般模式 , 编辑模式, 指令模式** , 他们之间模式转换如图

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636202771.jpg)

### 1.一般模式

在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理文本内容， 也可以使用『复制、粘贴』来处理你的文本内容

**常用命令 :**

|     语法      |            功能描述            |
|:-------------:|:------------------------------:|
|      yy       |        复制光标当前一行        |
|   y 数字 y    |  复制一段（从第几行到第几行）  |
|       p       |      粘贴      |
|       u       |           撤销           |
|      dd       |         删除光标当前行         |
|   d 数字 d    |     删除光标（含）后多少行     |
|       x       |    剪切光标当前字母    |
|       X       | 剪切光标前一个字母 |
|      yw(yank)       |           复制一个词,需要光标在首字母           |
|      dw       |           删除一个词,需要光标在首字母           |
| ^  |           移动到行头           |
| $ |           移动到行尾           |
|  gg  |        移动到页头，数字        |
|    G   |           移动到页尾           |
| 数字+G  |          移动到目标行          |

### 2.编辑模式

在一般模式中可以进行删除、复制、粘贴等的动作，但是却无法编辑文件内容的
如果要回到一般模式时，则必须要按下 『Esc』这个按键即可退出编辑模式

进入编辑模式命令 :

| 按键 | 进入编辑模式后光标所处位置 |
|:----:|:--------------------------:|
|  i   |         当前光标前         |
|  a   |         当前光标后         |
|  o   |       当前光标下一行       |
|  I   |            行首            |
|  A   |            行尾            |
|  O   |           上一行           |

### 3.指令模式

在一般模式当中，输入『 : / ?』3个中的任何一个按钮，就可以将光标移动到最底下那一行
在这个模式当中，可以提供你『搜寻资料』的动作，而读取、存盘、大量取代字符、 离开 vi 、显示行号等动作是在此模式中达成的！

**常用命令 :**

|     命令      |                           功能                           |
|:-------------:|:--------------------------------------------------------:|
|      :w       |                           保存                           |
|      :q       |                           退出                           |
|      :!       |                         强制执行                         |
|     :wq!      |                       强制保存退出                       |
|     /word     |                 n查找下一个,N查找上一个                  |
|     :noh      |                       取消高亮显示                       |
|    :set nu    |                         显示行号                         |
|   :set nonu   |                         关闭行号                         |
| :%s/old/new/g | 将所有的old替换成new,%表示整个文件,s表示替换(substitute) |

## 三.常用基本命令

### 1.帮助命令

1. man \[命令或配置]

2. help \[命令]

### 2.目录文件命令

1. pwd(print working directory): 显示当前工作目录的绝对路径

2. ls(list) \[选项] \[目录或文件]: 列出目录内容
	1. -a :列出所有,包括隐藏的文件(以 . 开头)
	2. -l :长数据串列出,等价于ll,会展示详细属性
	3. -h(human readable) :展示大小的时候自动选择单位

每行列出来的信息依次是:

`文件类型与权限` `链接数` `文件属主` `文件属组` `文件大小` `最近修改的时间` `名字`

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636218253.jpg)


3. cd \[目录]: 切换路径
	1. cd ~或者cd : 回到家目录
	2. cd - : 返回上一次目录
	3. cd ../ : 返回上一级
	4. cd -p : 跳转到实际物理路径,即链接的实际地址

4. mkdir \[选项] 目录:创建一个新的目录
	1. -p: 创建多层目录

5. rmdir 目录: 删除空目录,只能删除空的目录

6. touch 文件名: 创建空文件,默认是文本文件

7. cp \[选项] source dest: 复制source文件到dest
	1. -r: 递归复制整个文件夹,如果是复制文件夹必选
	2. 强制覆盖不提示的方法: \\cp

8. rm \[选项] 文件或目录: 删除文件或目录
	1. -r: 递归删除目录中所有内容
	2. -f: 强制执行删除操作不用确认
	3. -v: 显示指令详细执行过程

9. mv
	1. mv oldNameFile newNameFile: 重命名
	2. mv /temp/movefile   /targetFolder: 移动文件

10. cat \[选项] 文件: 查看文件
	1. -n : 显示所有行的行号,包括空行

11. more : 文件内容分页查看 , 有如下操作
	1. space : 向下翻一页
	2. enter : 向下翻一行
	3. q : 退出
	4. ctrl + F : 向下滚动一屏
	5. ctrl + B : 返回上一屏
	6. = : 输出当前行的行号
	7. :f : 输出文件名和当前行的行号

12. less : 分屏显示文件内容 , 与more类似 , 但更强大 , 按需加载内容
	1. space : 向下翻一页
	2. pagedown : 向下翻
	3. pageup : 向上翻
	4. /word : 向下搜索字串; n:下一个 , N : 上一个
	5. ?word : 向上搜索字串
	6. q : 退出

13. echo \[选项] \[输出内容]
	1. -e : 支持转义字符

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636231539.jpg)


14. head \[选项] 文件 : 查看文件前10行内容
	1. -n<行数> : 指定显示头部内容的行数

15. tail \[选项] 文件 : 查看尾部10行内容
	1. -n<行数> : 指定行数
	2. -f(follow) : 实时追踪文档的所有更新

16. \>输出重定向和>>追加
	1. ls > 文件 : 列表的内容写入文件中
	2. ls >>文件 : 列表的内容追加到文件中
	3. 所有输出内容的都可以这样写

17. in -s \[源文件或目录] \[软链接名] : 在当前目录下给源文件创建一个软链接(快捷方式) , 进入软链接就是进入源文件地址

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636239470.jpg)


删除软链接： rm -rf 软链接名，而不是 rm -rf 软链接名/ 
如果使用 rm -rf 软链接名/ 删除，会把软链接对应的真实目录下内容删掉

18. history : 查看已经执行过的历史命令
	1. history n : 查看n条

### 3.日期时间命令

1. date \[选项] \[格式]
	1. -d<时间字符串> : 显示指定的“时间字符串”表示的时间，而非当前时间
		1. date -d '1 days ago' : 显示前一天时间
		2. date -d '-1 days ago' : 显示后一天时间
		3. ...
	2. -s<日期时间> : 设置系统日期时间

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636256700.jpg)


2. date \[格式] : 显示当前时间
	1. +%Y : 显示年份
	2. +%m : 显示月份
	3. ...
	4. +%Y-%m-%d %H:%M:%S : 2023-11-08 00:47:06

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636267999.jpg)


3. cal : 查看本月日历
	1. cal 2023 : 查看2023年日历

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636275647.jpg)


### 4.用户管理命令

1. useradd 用户名 : 添加用户
	1. -g 组名 : 添加新用户到某个组

2. passwd 用户名 : 设置用户密码

3. id 用户名 : 查看用户是否存在

4. cat /etc/passwd : 查看创建了哪些用户

5. su 切换用户

6. userdel 用户名 : 删除用户
	1. -r : 同时删除用户的目录

7. whoami : 显示自身用户名称

8. who am i : 显示登录用户的用户名以及登录时间

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636288179.jpg)


9. sudo设置普通用户具有root权限

>在使用之前需要修改配置文件/etc/sudoers

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636298944.jpg)


最后一行改成NOPASSWD:ALL可以不需要输入密码

10. usermod \[选项] \[用户名] : 修改用户
	1. -g 用户组 : 修改用户组

11. groupadd 组名 : 添加一个组

12. groupdel 组名 : 删除一个组

13. groupmod -n 新组名 旧组名 : 修改一个组

14. cat /etc/group : 查看创建了哪些组

### 5.文件权限命令

>通过ll命令可以查看当前目录下文件的权限

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636306552.jpg)


**解释 :** 
- 0位用于标志类型
	- - 代表文件
	- d 代表目录
	- l 代表链接
- 1-3位确定属主(该文件的所有者) 拥有该文件的权限(u)
- 4-6位确定属组(所有者的同组用户)拥有该文件的权限(g)
- 7-9位确定其他用户权限(o)

**rwx作用到文件和目录的不同解释 :**
1. 作用到文件:
	1. r : 可读
	2. w : 可写
	3. x : 可执行
2. 作用到目录
	1. r : 可以查看目录内容
	2. w : 可以修改目录内容
	3. x : 可以进入目录

**常用命令 :**

1. chmod改变权限
	1. chmod \[{ugoa} {+-=} {rwx}] 文件或目录
	2. chmod 0-7 文件或目录 ,这里是将三种权限看成二进制 , 写相加的值

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636316131.jpg)


![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636322959.jpg)


2. chown \[选项] 用户 文件 : 改变所有者
	1. -r : 递归操作

3. chgrp 用户 文件 : 改变属组

### 6.搜索查找命令

1. find \[搜索范围] \[选项] : 
	1. -name 名字 : 按照文件名查找文件
	2. -user 用户名 : 按照用户名查找文件
	3. -size ... : 按照大小查找文件

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636332661.jpg)


2. locate 文件 : locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件 . Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locate 时刻 , 第一次运行前必须使用`updatedb`创建locate数据库

3. grep 选项 查找内容 源文件 : 过滤查找
	1. -n : 同时输出匹配内容的行号

4. | 管道操作 ,将前一个命令的处理结果输出传递给后面的命令处理 , 配合其他命令处理

### 7.压缩和解压命令

1. gzip||gunzip 文件 : 压缩||解压文件
	1. 只能压缩文件不能压缩目录
	2. 不保留原来的文件
	3. 同时选择多个文件会产生多个压缩包

2. zip \[选项] 压缩后文件名 文件 , unzip \[选项] XXX.zi
	1. zip -r xxx.zip 目录 : 压缩目录
	2. unzip -d 目录 xxx.zip: 指定解压文件后的存放目录
	3. 可以保留原来的文件

3. tar \[选项] xxx.tar 文件或目录
	1. -c : 产生.tar打包文件
	2. -v : 显示详细信息
	3. -f : 指定压缩后的文件名
	4. -x : 解包.tar文件
	5. -C : 解压到指定目录

通常使用`tar -cvf`压缩, `tar -xvf`解压缩

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636342233.jpg)


### 8.磁盘查看和分区类

1. du(disk usage) \[选项] 目录/文件 : 显示目录下每个子目录的磁盘使用情况
	1. -h : 方便阅读
	2. -a : 不仅查看子目录,还要包括文件
	3. -c : 显示所有文件后再显示总和
	4. -s : 只显示总和
	5. --max-depth=n : 只统计目录深度1-n层

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636350551.jpg)


2. df(disk free) : 查看磁盘空间使用情况

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636368374.jpg)


3. lsblk(list block) : 查看设备挂载情况

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636378924.jpg)


4. mount/unmount
	1. mount \[-t vfstype] \[-o options] device dir （功能描述：挂载设备）
	2. umount 设备文件名或挂载点 （功能描述：卸载设备）

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636386712.jpg)


5. fdisk -l : 查看分区

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636394831.jpg)


### 9.进程与服务管理类

**进程与服务的概念 :** 

>**进程（Process）：** 进程是计算机中正在运行的程序的实例。每当你运行一个程序，操作系统就会创建一个对应的进程来执行该程序。进程是计算机系统中对正在运行的程序的抽象。每个进程都有自己的地址空间、内存、状态等信息。在 Linux 中，你可以使用命令如 `ps`、`top` 等来查看系统中正在运行的进程，以及它们的状态和资源占用情况。

>**服务（Service）：** 在 Linux 中，服务是指在后台运行的、提供某种特定功能的程序。服务通常以守护进程（daemon）的形式运行，它们在系统启动时启动，并一直运行，直到系统关闭或手动停止。服务提供了各种功能，如网络服务（例如 Web 服务器、FTP 服务器）、数据库服务、打印服务等。在 Linux 中，服务通常由 init 系统或更现代的 systemd 管理。

**系统运行级别 :** 

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636402711.jpg)


1. ps(process status)
	1. ps aux : 查看所有进程
	2. ps -ef : 查看所有进程 , 显示父子进程
	3. a : 列出带终端的所有用户的进程
	4. u : 用户友好界面
	5. x : 列出当前用户的所有进程 , 包括没有终端的
	6. -e : 列出所有进程
	7. -u : 列出某个用户的所有进程
	8. -f : 显示完整格式的进程列表

**使用ps aux查看**

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636414604.jpg)


**显示信息说明 :** 

USER：该进程是由哪个用户产生的 
PID：进程的 ID 号 
%CPU：该进程占用 CPU 资源的百分比，占用越高，进程越耗费资源； 
%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源； 
VSZ：该进程占用虚拟内存的大小，单位 KB； 
RSS：该进程占用实际物理内存的大小，单位 KB； 
TTY：该进程是在哪个终端中运行的。对于 CentOS 来说，tty1 是图形化终端， tty2-tty6 是本地的字符界面终端。pts/0-255 代表虚拟终端。 
STAT：进程状态。常见的状态有：R：运行状态、S：睡眠状态、T：暂停状态、 Z：僵尸状态、s：包含子进程、l：多线程、+：前台显示 START：该进程的启动时间  
TIME：该进程占用 CPU 的运算时间，注意不是系统时间 
COMMAND：产生此进程的命令名

**使用ps -ef查看 :**

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636422060.jpg)


**显示信息说明 :**

UID：用户 ID 
PID：进程 ID 
PPID：父进程 ID 
C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算， 执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高 
STIME：进程启动的时间 
TTY：完整的终端名称 
TIME：CPU 时间 
CMD：启动进程所用的命令和参数

2. kill : 终止进程
	1. kill -9 pid : 立刻停止
	2. killall 进程名

3. pstree : 查看进程树
	1. -p : 显示pid
	2. -u : 显示进程的所属用户

4. top : 实时监控系统进程状态
	1. -d 秒数 : 指定top命令每隔几秒更新
	2. -i : 不显示闲置进程或者僵死进程
	3. -p : 通过指定监控进程id来仅仅监控某个进程的状态

5. netstat -tulpn | grep 端口号 : 查看端口号占用
	1. -t : 显示 TCP 端口
	2. -u : 显示 UDP 端口
	3. -l : 仅显示监听状态的端口
	4. -p : 显示与端口相关的进程信息
	5. -n : 以数字形式显示端口和地址

6. crontab 定时任务
	1. -e : 编辑定时任务
	2. -l : 查询任务
	3. -r : 删除当前用户所有的任务

格式 : \*\*\*\*\*执行的任务

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636432714.jpg)

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636440253.jpg)

7. systemctl start | stop | restart | status 服务名 : 管理服务

8. systemctl enable | disable 服务名 : 设置是否开机自启

9. systemctl list-units --type=service : 查看所有运行中的服务

10. ifconfig(interface configuration) : 查看网络接口配置

![](https://quan-blog-1321822882.cos.ap-shanghai.myqcloud.com/2023/11/22/1700636449479.jpg)


11. hostname : 查看主机名

### 10.软件管理命令

1. yum \[选项] \[参数] : 
	1. -y : 对所有的提问都回答"yes"
	2. yum install
	3. yum update
	4. yum check-update
	5. yum remove
	6. yum list
	7. yum clean : 清理yum过期的缓存
	8. yum deplist : 显示yum软件包的所有依赖关系


















